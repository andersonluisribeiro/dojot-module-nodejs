version: '2.1'
services:

  zookeeper:
    image: "zookeeper:3.4"
    logging:
      driver: json-file
      options:
        max-size: 100m

  kafka:
    image: "ches/kafka:0.10.1.1"
    depends_on:
      - zookeeper
    environment:
      ZOOKEEPER_IP: zookeeper
      KAFKA_NUM_PARTITIONS: 10
    logging:
      driver: json-file
      options:
        max-size: 100m
  
  dojot-module-test:
      image: "dojot/dojot_module_tests"
      depends_on:
        - kafka
      environment:
        KAFKA_HOSTS: kafka
